# 茨城県南のイベント情報サイト

## 📋 プロジェクト概要

茨城県南地域（つくば市・つくばみらい市・守谷市・取手市など）のイベント情報を自動収集・表示するWebサイトです。リアルタイムの天気情報と組み合わせて、今日行けるイベントを効率的に探すことができます。

## 🌐 サイトURL

**本番環境**: https://tsukuba.netlify.app

## 🚀 主要機能

### 1. イベント情報の自動収集・表示
- **対象地域**: つくば市、つくばみらい市、守谷市、取手市、常総市、龍ヶ崎市、古河市、坂東市
- **情報内容**: イベント名、日時、場所、詳細、料金、駐車場、子連れ対応、屋内/屋外
- **フィルター機能**: カテゴリ、地域、屋内/屋外、料金、子連れ対応、駐車場

### 2. リアルタイム天気情報
- **対象地域**: つくば市、つくばみらい市、守谷市、取手市
- **表示情報**: 現在の天気、気温、湿度、降水確率
- **更新頻度**: ページ読み込み時

### 3. 地域特集コンテンツ
- **季節イベント**: 季節に応じたイベント情報
- **グルメ情報**: 地域の飲食店・グルメ情報
- **子育て情報**: 子育て関連のイベント・施設情報
- **フィルター機能**: 地域別、カテゴリ別絞り込み

### 4. 地域情報の充実
- **観光スポット**: 地域の観光地・名所情報
- **文化施設**: 博物館、図書館、文化センターなど
- **フィルター機能**: 地域別、カテゴリ別絞り込み

### 5. 広告システム
- **A8.net**: アフィリエイト広告の表示
- **広告サイズ**: 728×90（横長）、300×250（四角形）
- **配置**: ヘッダー、メインコンテンツ、サイドバー

## 🔧 技術仕様

### フロントエンド
- **HTML5**: セマンティックマークアップ
- **CSS3**: レスポンシブデザイン、Flexbox、Grid
- **JavaScript (ES6+)**: 動的コンテンツ更新、フィルター機能
- **Bootstrap 5**: UIフレームワーク
- **Font Awesome**: アイコンライブラリ

### バックエンド
- **Python 3.11**: メイン言語
- **Flask**: Webフレームワーク
- **SQLite**: データベース
- **Requests**: HTTP通信
- **BeautifulSoup4**: HTML解析
- **Selenium**: 動的コンテンツ取得

### 外部API
- **WeatherAPI**: 天気情報取得
- **X (Twitter) API**: 飲食店情報取得
- **Google Analytics**: アクセス解析

### デプロイ
- **Netlify**: 静的サイトホスティング
- **GitHub**: バージョン管理

## 📊 データ収集仕様

### スクレイピング対象サイト

#### イベント情報
- **つくば市**: https://www.city.tsukuba.lg.jp/
- **つくばみらい市**: https://www.city.tsukubamirai.lg.jp/
- **守谷市**: https://www.city.moriya.ibaraki.jp/
- **取手市**: https://www.city.toride.ibaraki.jp/

#### 地域情報
- **観光情報**: 各市の観光協会サイト
- **文化施設**: 各市の文化施設情報
- **グルメ情報**: 地域のグルメサイト

### スクレイピング頻度

#### 自動更新スケジュール
- **イベント情報**: 毎日 午前6時
- **天気情報**: ページアクセス時（リアルタイム）
- **地域特集**: 週1回（日曜日）
- **地域情報**: 月1回（月初）

#### 手動更新
- **緊急時**: 管理者による手動実行
- **データ修正**: 必要に応じて即座に実行

### データ形式

#### イベントデータ (events.json)
```json
{
  "events": [
    {
      "id": "unique_id",
      "title": "イベント名",
      "date": "2025-01-15",
      "time": "10:00-16:00",
      "location": "場所名",
      "description": "詳細説明",
      "category": "文化",
      "is_free": true,
      "has_parking": true,
      "child_friendly": true,
      "is_indoor": true,
      "weather_dependent": false,
      "rain_cancellation": "雨天時は中止",
      "source_url": "元サイトURL",
      "source_city": "つくば市"
    }
  ]
}
```

#### コンテンツデータ (content.json)
```json
{
  "seasonal_events": [...],
  "food_info": [...],
  "childcare_info": [...],
  "tourism_info": [...],
  "culture_info": [...],
  "stats": {
    "total_items": 50,
    "last_updated": "2025-01-15T06:00:00Z"
  }
}
```

## 🔐 認証・セキュリティ

### API認証
- **X (Twitter) API**: OAuth 1.0a認証
- **WeatherAPI**: APIキー認証
- **環境変数**: 機密情報の安全な管理

### セキュリティ対策
- **HTTPS**: 全通信の暗号化
- **CORS**: 適切なクロスオリジン設定
- **入力検証**: XSS対策
- **レート制限**: API呼び出し制限

## 📈 分析・追跡

### Google Analytics
- **測定ID**: G-BTJQ4YG2EP
- **追跡イベント**:
  - ページビュー
  - イベント詳細表示
  - フィルター使用
  - データ更新

### アクセス解析
- **訪問者数**: 日次・月次レポート
- **人気コンテンツ**: イベント詳細表示回数
- **ユーザー行動**: 滞在時間、離脱率
- **地域別アクセス**: 茨城県南地域の利用状況

## 🚀 デプロイメント

### 本番環境
```bash
# デプロイ実行
netlify deploy --prod

# ビルド確認
netlify build
```

### 開発環境
```bash
# ローカルサーバー起動
python -m http.server 8000

# Flask開発サーバー
python app.py
```

## 📁 プロジェクト構造

```
今日行けるイベントサイト/
├── index.html              # メインHTML
├── static/
│   ├── css/
│   │   └── style.css       # メインCSS
│   └── js/
│       └── app.js          # メインJavaScript
├── api/
│   ├── events.json         # イベントデータ
│   └── content.json        # コンテンツデータ
├── scripts/
│   ├── restaurant_scraper.py      # 飲食店スクレイパー
│   ├── content_auto_updater.py    # コンテンツ更新
│   └── real_content_scraper_v2.py # 地域情報スクレイパー
├── data/
│   └── *.db                # SQLiteデータベース
├── requirements.txt        # Python依存関係
├── netlify.toml           # Netlify設定
└── README.md              # このファイル
```

## 🔄 更新・メンテナンス

### 定期メンテナンス
- **データベース最適化**: 月1回
- **ログファイル整理**: 週1回
- **依存関係更新**: 月1回

### 緊急対応
- **データ不整合**: 即座に手動修正
- **API障害**: 代替データソースへの切り替え
- **パフォーマンス問題**: キャッシュ最適化

## 📞 サポート・連絡先

### 技術サポート
- **GitHub Issues**: バグ報告・機能要望
- **開発者**: プロジェクト管理者

### データ提供元
- **各市役所**: イベント情報の正確性確認
- **観光協会**: 観光情報の更新

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🔮 今後の開発予定

### 短期目標（1-3ヶ月）
- [ ] モバイルアプリ版の開発
- [ ] プッシュ通知機能
- [ ] ユーザーアカウント機能

### 中期目標（3-6ヶ月）
- [ ] AIによるイベント推薦機能
- [ ] 多言語対応（英語・中国語）
- [ ] ソーシャル機能（いいね・シェア）

### 長期目標（6ヶ月以上）
- [ ] 他地域への展開
- [ ] イベント主催者向け管理機能
- [ ] リアルタイム混雑情報

---

**最終更新**: 2025年1月15日
**バージョン**: 1.0.0 